@Service
@RequiredArgsConstructor
@Slf4j
public class DbLoggerService {

	private final LogsChannelRepository logsChannelRepository;
	private final PartyModelSetter partyModelSetter;
	////////////////////////////////////////////////////

	/**
	 * @param object
	 * @param headers
	 * @param endpointName
	 * @return logChannelEntity
	 * @throws JsonProcessingException
	 */

	@Transactional(propagation = Propagation.REQUIRES_NEW)
	public LogChannelEntity logIntoDb(Object object, Map<String, String> headers, String refrenceId, String endpointName) throws JsonProcessingException {
		log.debug("logIntoDb({})", endpointName);
		LogChannelEntity logChannelEntity = toLogEntity(object, headers, refrenceId, endpointName);
		logsChannelRepository.save(logChannelEntity);
		log.debug("/logIntoDb({})", endpointName);
		return logChannelEntity;
	}
