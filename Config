@Test
void shouldMapContactsToPartyPhones() {
    try (MockedStatic<HelperUtils> mockedHelper = mockStatic(HelperUtils.class)) {
        mockedHelper.when(() -> HelperUtils.checkTranslation(any()))
                    .thenAnswer(invocation -> ((Translation) invocation.getArgument(0)).getCode());

        PartyService spyService = Mockito.spy(new PartyService());

        doNothing().when(spyService).setPhones(anyInt(), any(Contact.class), any(PartyPhone.class), anyString());

        List<Contact> contacts = Arrays.asList(
                createContact("RSF", "Residential", "Residential", 1),
                createContact("SMS", "SMS", "SMS", 2)
        );

        Map<String, List<PartyPhone>> result = spyService.mapPhoneToPartyContact(contacts);

        assertNotNull(result);
        assertTrue(result.containsKey("residential"));
        assertTrue(result.containsKey("sms"));
    }
